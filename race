[funplus@ip-10-244-230-124 dpipe]$ ./dpiped
[22542]2014/02/27 10:56:45 main.go:55:
     _       _                _
    | |     (_)              | |
  __| |_ __  _ _ __   ___  __| |
 / _  | '_ \| | '_ \ / _ \/ _  |
| (_| | |_) | | |_) |  __/ (_| |
 \__,_| .__/|_| .__/ \___|\__,_|
      | |     | |
      |_|     |_|
[22542]2014/02/27 10:56:45 engine.go:157: Starting engine with 5/8 CPUs...
[22542]2014/02/27 10:56:45 http.go:33: Listening on http://127.0.0.1:9876
[22542]2014/02/27 10:56:45 launch.go:108: Engine mainloop, waiting for signals...
[22542]2014/02/27 10:56:45 bulk.go:241: Starting timer with delay =  5s
==================
WARNING: DATA RACE
Read by goroutine 178:
  runtime.mapaccess2_faststr()
      /usr/local/go/src/pkg/runtime/hashmap_fast.c:129 +0x0
  github.com/funkygao/dpipe/plugins.(*AlsLogInput).runSingleAlsLogInput()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/plugins/alslog_input.go:268 +0x673

Previous write by goroutine 148:
  runtime.mapassign1()
      /usr/local/go/src/pkg/runtime/hashmap.c:1134 +0x0
  github.com/funkygao/dpipe/plugins.(*AlsLogInput).runSingleAlsLogInput()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/plugins/alslog_input.go:268 +0x707

Goroutine 178 (running) created at:
  github.com/funkygao/dpipe/plugins.(*AlsLogInput).Run()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/plugins/alslog_input.go:165 +0x5ad
  github.com/funkygao/dpipe/engine.(*iRunner).runMainloop()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/input.go:94 +0x272

Goroutine 148 (running) created at:
  github.com/funkygao/dpipe/plugins.(*AlsLogInput).Run()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/plugins/alslog_input.go:165 +0x5ad
  github.com/funkygao/dpipe/engine.(*iRunner).runMainloop()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/input.go:94 +0x272
==================
runtime error: invalid memory address or nil pointer dereference
runtime error: invalid memory address or nil pointer dereference
runtime error: invalid memory address or nil pointer dereference
runtime error: invalid memory address or nil pointer dereference
runtime error: invalid memory address or nil pointer dereference
runtime error: invalid memory address or nil pointer dereference
runtime error: invalid memory address or nil pointer dereference
runtime error: invalid memory address or nil pointer dereference
runtime error: invalid memory address or nil pointer dereference
runtime error: invalid memory address or nil pointer dereference
runtime error: invalid memory address or nil pointer dereference
runtime error: invalid memory address or nil pointer dereference
==================
WARNING: DATA RACE
Read by goroutine 28:
  github.com/funkygao/dpipe/engine.(*DiagnosticTracker).Run()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/diagnostic.go:58 +0x48a

Previous write by goroutine 34:
  github.com/funkygao/dpipe/engine.(*PacketTracking).Reset()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/pack.go:160 +0x60
  github.com/funkygao/dpipe/engine.(*messageRouter).Start()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/router.go:173 +0x9d0

Goroutine 28 (running) created at:
  github.com/funkygao/dpipe/engine.(*EngineConfig).ServeForever()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/launch.go:71 +0xff2
  main.main()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/cmd/dpiped/main.go:65 +0x1ef

Goroutine 34 (running) created at:
  github.com/funkygao/dpipe/engine.(*EngineConfig).ServeForever()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/launch.go:91 +0x113e
  main.main()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/cmd/dpiped/main.go:65 +0x1ef
==================
==================
WARNING: DATA RACE
Read by goroutine 28:
  github.com/funkygao/dpipe/engine.(*DiagnosticTracker).Run()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/diagnostic.go:62 +0xbb5

Previous write by goroutine 34:
  github.com/funkygao/dpipe/engine.(*PacketTracking).Reset()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/pack.go:161 +0xc0
  github.com/funkygao/dpipe/engine.(*messageRouter).Start()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/router.go:173 +0x9d0

Goroutine 28 (running) created at:
  github.com/funkygao/dpipe/engine.(*EngineConfig).ServeForever()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/launch.go:71 +0xff2
  main.main()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/cmd/dpiped/main.go:65 +0x1ef

Goroutine 34 (running) created at:
  github.com/funkygao/dpipe/engine.(*EngineConfig).ServeForever()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/launch.go:91 +0x113e
  main.main()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/cmd/dpiped/main.go:65 +0x1ef
==================
==================
WARNING: DATA RACE
Read by goroutine 30:
  github.com/funkygao/dpipe/engine.(*DiagnosticTracker).Run()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/diagnostic.go:58 +0x48a

Previous write by goroutine 10:
  [failed to restore the stack]

Goroutine 30 (running) created at:
  github.com/funkygao/dpipe/engine.(*EngineConfig).ServeForever()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/launch.go:72 +0x106c
  main.main()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/cmd/dpiped/main.go:65 +0x1ef

Goroutine 10 (running) created at:
  github.com/funkygao/dpipe/engine.(*foRunner).start()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/runner.go:99 +0x62
  github.com/funkygao/dpipe/engine.(*EngineConfig).ServeForever()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/launch.go:36 +0x5ce
  main.main()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/cmd/dpiped/main.go:65 +0x1ef
==================
runtime error: invalid memory address or nil pointer dereference
runtime error: invalid memory address or nil pointer dereference
runtime error: invalid memory address or nil pointer dereference
runtime error: invalid memory address or nil pointer dereference
runtime error: invalid memory address or nil pointer dereference
runtime error: invalid memory address or nil pointer dereference
runtime error: invalid memory address or nil pointer dereference
runtime error: invalid memory address or nil pointer dereference
runtime error: invalid memory address or nil pointer dereference
runtime error: invalid memory address or nil pointer dereference
runtime error: invalid memory address or nil pointer dereference
runtime error: invalid memory address or nil pointer dereference
runtime error: invalid memory address or nil pointer dereference
runtime error: invalid memory address or nil pointer dereference
runtime error: invalid memory address or nil pointer dereference
runtime error: invalid memory address or nil pointer dereference
runtime error: invalid memory address or nil pointer dereference
runtime error: invalid memory address or nil pointer dereference
runtime error: invalid memory address or nil pointer dereference
runtime error: invalid memory address or nil pointer dereference
runtime error: invalid memory address or nil pointer dereference
runtime error: invalid memory address or nil pointer dereference
runtime error: invalid memory address or nil pointer dereference
runtime error: invalid memory address or nil pointer dereference
runtime error: invalid memory address or nil pointer dereference
runtime error: invalid memory address or nil pointer dereference
runtime error: invalid memory address or nil pointer dereference
runtime error: invalid memory address or nil pointer dereference
==================
WARNING: DATA RACE
Read by goroutine 37:
  github.com/funkygao/dpipe/engine.(*DiagnosticTracker).Run()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/diagnostic.go:58 +0x48a

Previous write by goroutine 46:
  github.com/funkygao/dpipe/engine.(*PacketTracking).Reset()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/pack.go:160 +0x60
  github.com/funkygao/dpipe/engine.(*messageRouter).Start()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/router.go:173 +0x9d0

Goroutine 37 (running) created at:
  github.com/funkygao/dpipe/engine.(*EngineConfig).ServeForever()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/launch.go:71 +0xff2
  main.main()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/cmd/dpiped/main.go:65 +0x1ef

Goroutine 46 (running) created at:
  github.com/funkygao/dpipe/engine.(*EngineConfig).ServeForever()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/launch.go:91 +0x113e
  main.main()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/cmd/dpiped/main.go:65 +0x1ef
==================
==================
WARNING: DATA RACE
Read by goroutine 37:
  github.com/funkygao/dpipe/engine.(*DiagnosticTracker).Run()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/diagnostic.go:62 +0xbb5

Previous write by goroutine 46:
  github.com/funkygao/dpipe/engine.(*PacketTracking).Reset()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/pack.go:161 +0xc0
  github.com/funkygao/dpipe/engine.(*messageRouter).Start()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/router.go:173 +0x9d0

Goroutine 37 (running) created at:
  github.com/funkygao/dpipe/engine.(*EngineConfig).ServeForever()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/launch.go:71 +0xff2
  main.main()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/cmd/dpiped/main.go:65 +0x1ef

Goroutine 46 (running) created at:
  github.com/funkygao/dpipe/engine.(*EngineConfig).ServeForever()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/launch.go:91 +0x113e
  main.main()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/cmd/dpiped/main.go:65 +0x1ef
==================
==================
WARNING: DATA RACE
Read by goroutine 39:
  github.com/funkygao/dpipe/engine.(*DiagnosticTracker).Run()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/diagnostic.go:58 +0x48a

Previous write by goroutine 10:
  [failed to restore the stack]

Goroutine 39 (running) created at:
  github.com/funkygao/dpipe/engine.(*EngineConfig).ServeForever()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/launch.go:72 +0x106c
  main.main()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/cmd/dpiped/main.go:65 +0x1ef

Goroutine 10 (running) created at:
  github.com/funkygao/dpipe/engine.(*foRunner).start()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/runner.go:99 +0x62
  github.com/funkygao/dpipe/engine.(*EngineConfig).ServeForever()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/launch.go:36 +0x5ce
  main.main()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/cmd/dpiped/main.go:65 +0x1ef
==================
==================
WARNING: DATA RACE
Read by goroutine 39:
  github.com/funkygao/dpipe/engine.(*DiagnosticTracker).Run()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/diagnostic.go:58 +0x48a

Previous write by goroutine 9:
  github.com/funkygao/dpipe/engine.(*PacketTracking).Reset()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/pack.go:160 +0x60
  github.com/funkygao/dpipe/engine.(*PipelinePack).Reset()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/pack.go:100 +0x203
  github.com/funkygao/dpipe/engine.(*PipelinePack).Recycle()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/pack.go:134 +0x63
  github.com/funkygao/dpipe/plugins.(*CardinalityOutput).Run()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/plugins/cardinality_output.go:50 +0x3b9
  github.com/funkygao/dpipe/engine.(*foRunner).runMainloop()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/runner.go:130 +0xaa2

Goroutine 39 (running) created at:
  github.com/funkygao/dpipe/engine.(*EngineConfig).ServeForever()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/launch.go:72 +0x106c
  main.main()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/cmd/dpiped/main.go:65 +0x1ef

Goroutine 9 (running) created at:
  github.com/funkygao/dpipe/engine.(*foRunner).start()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/runner.go:99 +0x62
  github.com/funkygao/dpipe/engine.(*EngineConfig).ServeForever()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/launch.go:36 +0x5ce
  main.main()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/cmd/dpiped/main.go:65 +0x1ef
==================
==================
WARNING: DATA RACE
Read by goroutine 39:
  github.com/funkygao/dpipe/engine.(*DiagnosticTracker).Run()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/diagnostic.go:58 +0x48a

Previous write by goroutine 10:
  github.com/funkygao/dpipe/engine.(*PacketTracking).Reset()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/pack.go:160 +0x60
  github.com/funkygao/dpipe/engine.(*PipelinePack).Reset()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/pack.go:100 +0x203
  github.com/funkygao/dpipe/engine.(*PipelinePack).Recycle()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/pack.go:134 +0x63
  github.com/funkygao/dpipe/plugins.(*EsOutput).Run()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/plugins/es_output.go:91 +0xb58
  github.com/funkygao/dpipe/engine.(*foRunner).runMainloop()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/runner.go:130 +0xaa2

Goroutine 39 (running) created at:
  github.com/funkygao/dpipe/engine.(*EngineConfig).ServeForever()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/launch.go:72 +0x106c
  main.main()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/cmd/dpiped/main.go:65 +0x1ef

Goroutine 10 (running) created at:
  github.com/funkygao/dpipe/engine.(*foRunner).start()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/runner.go:99 +0x62
  github.com/funkygao/dpipe/engine.(*EngineConfig).ServeForever()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/engine/launch.go:36 +0x5ce
  main.main()
      /mnt/funplus/gocode/src/github.com/funkygao/dpipe/cmd/dpiped/main.go:65 +0x1ef
==================
